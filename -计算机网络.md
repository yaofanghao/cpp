* 学习时间：
  * 2023.03.30-
* 更新日期：
  * 2023.04.03
* 学习进度：
  * 计算机网络-谢希仁 3.2
  * 王道-计算机网络 3.1.1
  * 计算机网络-自顶向下方法 2.1

# 参考资料
* 网络是怎样连接的 √
* 计算机网络-谢希仁
* 王道-计算机网络 
* 图解TCP/IP √
* 计算机网络-自顶向下方法
* 嵌入式软件开发笔试面试指南 
* 【中科大郑烇、杨坚全套《计算机网络（自顶向下方法 第7版，James F.Kurose，Keith W.Ross）》课程】 https://www.bilibili.com/video/BV1JV411t7ow/?share_source=copy_web&vd_source=85816208bdca2a40c310bef0b0d541b4
* 【史上最强最细腻的linux嵌入式C语言学习教程【李慧芹老师】】 https://www.bilibili.com/video/BV18p4y167Md/?share_source=copy_web&vd_source=85816208bdca2a40c310bef0b0d541b4
* 【黑马程序员-Linux网络编程】 https://www.bilibili.com/video/BV1iJ411S7UA/?share_source=copy_web&vd_source=85816208bdca2a40c310bef0b0d541b4

-------------------

# 《计算机网络-自顶向下方法》阅读笔记 
## 第1章-计算机网络和因特网


-------------------

# 《计算机网络-谢希仁》阅读笔记 
## --辅助参考《王道-计算机网络》《图解TCP/IP》
## 第1章-概述
* 结点 链路
* ISP 因特网服务提供者
* IXP 因特网交换点
* 边缘部分和核心部分
  * 边缘端系统之间的通信方式分为 client/server(C/S) 和 peer to peer(P2P)
  * 主机属于边缘部分
  * 路由器属于核心部分

* 电路交换、**报文交换**、**分组交换**
  * 报文可以等分为分组（packet，又称为包）
* 路由器是实现分组交换的核心部件

* WAN广域网 MAN城域网 LAN局域网 PAN个人局域网

* 计算机网络的性能指标
  * 速率、**带宽**、吞吐量、时延、时延带宽积、往返时间RTT、利用率
  * 时延 = 处理时延+排队时延+发送时延+传播时延

* 计算机体系结构
  * OSI七层协议： 物理层--数据链路层--网络层--传输层--会话层--表示层--应用程序层
  * 五层协议：  **物理层--数据链路层--网络层--传输层--应用层**
* 应用层
  * HTTP、SMTP、FTP等协议
  * 应用层交互的数据单元称为**报文**
* 传输层
  * **TCP、UDP**协议
  * TCP数据传输单位是报文段，UDP数据传输单位是用户数据报
* 网络层
  * **IP、ICMP、ARP**等协议
  * 网络层的分组也称为**IP数据报**
* 数据链路层
  * PPP等协议
  * 把网络层的IP数据报组装成**帧**
  * 有差错控制等功能
* 物理层
  * 传输数据单位是比特 
* **下面的协议对上面的实体是透明的**

## 第2章-物理层
* 信道
* 基带信号 -->载波调制--> 带通信号 
* 码间串扰
* 导引型传输媒体：双绞线 同轴电缆 光缆
* 非导引型传输媒体： 无线电微波通信
* 宽带接入技术： ADSL HFC FTTx

## 第3章-数据链路层  
* 三个基本问题：
  * 封装成帧
    * 帧定界 帧开始符SOH/帧结束符EOT
    * 最大传输单元 MTU
  * 透明传输
  * 差错检测
    * 循环冗余校验 CRC
  
* 点对点信道
  * 使用**PPP**协议
  
* 协调避免冲突：
  * 信道复用技术、**CSMA/CD**协议

-------------------

# 传输层
* 数据包 package 的组成：
  * IP header 用于发送到对应的电脑上
  * UDP header 或 TCP header 用于发送到对应的程序上
  * data
  
* **UDP** --用户数据报协议
  * 包含端口号、校验和等
  * 不检查是否成功发送到对方电脑
  * 可能丢包
  * 适用于实时性要求高的传输情况

* **TCP** --传输控制协议
  * 包含端口号、校验和等
  * 每个包有序号
  * 有效解决了乱序和丢包的问题
  * 实时性不如UDP

-------------------

# 《网络是怎样连接的》阅读笔记
## 探索之旅路线图
* 包-快递 
* 交换机和路由器--快递分拣区
* 协议栈 

## 第1章-探索浏览器内部
* **生成HTTP请求消息->向DNS查询web服务器的IP地址->全世界DNS服务器接力-> 委托协议栈发送消息**
* URI和URL
  * URI 统一资源标识符。相当于身份证号
  * URL 统一资源定位符。包括hhtp: ftp: 等。相当于身份证住址姓名等
* HTTP协议
  * **GET** **POST** 等方法

* IP地址 = 网络号+主机号
* IP地址主机号
  * 全0：表示整个子网
  * 全1：表示向子网所有设备发送包，**广播**
* 下面两者等价，右半部分为子网掩码：
  * 10.11.12.13.14/255.255.255.0 
  * 10.11.12.13.14/24 

* 访问互联网需要：IP地址、端口号
* DNS 相当于电话本，解析域名对应的IP地址
* DNS的存放是树状结构
  * 顶级域名、二级域名、子域名
* DNS解析器包含在操作系统的Socket库中
  * **gethostbyname**程序
  * 控制流程转移
* 客户端向DNS服务器发送查询信息（域名、Class、记录类型），DNS服务器从域名与IP地址的对照表中查找相应的记录，返回IP地址
  
* 管道两端数据的出入口称为**套接字** （socket）
* 收发数据的操作分为四步：
  * 创建套接字
  * 将管道连接到服务器端的套接字 connect程序
  * 收发数据 write程序
  * 断开管道并删除套接字 close程序
* 管道连接由客户端发起，管道断开可由任意一方断开

## 第2章-探索协议栈和网卡
* 浏览器、邮件收发数据等用TCP
* DNS查询等短数据用UDP

* 协议栈根据套接字中记录的控制信息工作
* netstat命令（windows下）
  * 显示套接字内容
  
* 1、创建套接字
  * 协议栈分配存放套接字所需的内存空间
  * 向该内存空间写入初始状态
* 2、连接服务器
  * 实质是通信双方交换控制信息
  * 控制信息分为两类：头部中记录的信息、套接字中记录的信息
  * 把服务器的IP地址和端口号等信息告知协议栈
  * 控制位的 **SYN** 和 **ACK**
    * SYN：连接开始控制号
    * ACK：根据发送的开始序号和字节数，将最终字节数撞到ACK号中返回给发送位，并将控制位置1，代表已收到。
* 3、收发数据
  * MTU 最大传输单元
    * 网络包的最大长度，一般为1500字节
  * MSS 最大分段大小
    * 除去头部后，网络包所能容纳的TCP数据的最大长度
  * MTU = MSS + TCP头部 + IP头部
  * **ACK号** 用于确认已收到
    * TCP的错误补偿机制：在得到对方确认之前，发送过的包都会保存在发送缓冲区中。如果对方没有返回某些包对应的ACK号，那么就重新发送这些包。
  * 动态调整等待时间
  * **滑动窗口协议** 避免拥塞的发生，加速数据传输
* 4、断开连接并删除套接字
  * 将控制位的FIN设为1

* IP模块包含两个头部：
  * MAC头部，用于以太网协议
  * IP头部，用于IP协议  
* IP模型不关心包的乱序和丢失，只将封装好的包交给网卡
  
* 通过**ARP**查询目标路由器的MAC地址
  * arp-a 查看ARP缓存和MAC地址

## 第3章-探索集线器、交换机和路由器
* 集线器将信号发送给所有连接在它上面的线路
* 路由器和交换机都对包进行转发
* 交换机基于以太网工作，路由器基于IP工作
* IP（路由器）负责将包送达通信对象这一整体过程，而其中将包传输到下一个路由器的过程则是由以太网（交换机）来负责的。
  
## 第4章-探索接入网和网络运营商
* 接入网。比较有代表性的有ADSL
* 互联网接入路由器会在网络包前面加上MAC头部、PPPoE头部、PPP头部总共3种头部
* ADSL Modem（猫）将包拆分成信元，转换成电信号发出去
  
* FFTH 光纤接入网

* PPPoE是将PPP消息装入以太网包进行传输的方式
* 互联网接入路由器通过PPPoE的发现机制查询BAS的MAC地址

## 第5章/第6章 略...
